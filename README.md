# ЛистПро

Приложение на базе React Native и Expo для измерения площади листьев растений с помощью камеры мобильного устройства. Позволяет автоматически рассчитывать площадь снимка, сохранять результаты с GPS‑координатами и управлять коллекцией измерений.

## Основные возможности
- захват изображения листа и вычисление его площади;
- сохранение снимков в галерее с координатами и датой;
- просмотр и удаление сохранённых измерений;
- экспорт и импорт данных в формате JSON;
- настройка параметров съёмки (разрешение, ручной фокус, запись координат).
- если камера недоступна, можно выбрать готовое изображение из галереи.

## Требования
- Node.js >= 20.0
- npm >= 11.0

Проверить версии можно командами:
```bash
node -v
npm -v
```

## Установка
```bash
npm install
```

## Запуск в Expo
```bash
npm start
```

Для веб‑версии:
```bash
npm run start-web
```

## Сборка Android/iOS
```bash
npm run android  # сборка и запуск на Android
npm run ios      # сборка и запуск на iOS
```

## Экспорт на web
```bash
npx expo export -p web
```
Полученные файлы будут помещены в каталог `dist` (см. `vercel.json`).

## Структура каталогов
- **android/** – нативный проект Android;
- **app/** – страницы и роуты приложения (Expo Router);
- **assets/** – изображения и статические ресурсы;
- **components/** – переиспользуемые React‑компоненты;
- **constants/** – общие константы и темы;
- **hooks/** – пользовательские React‑хуки;
- **store/** – zustand‑хранилища данных;
- **utils/** – вспомогательные функции для камеры и обработки изображений;
- **types/** – глобальные типы TypeScript;
- конфигурационные файлы `metro.config.js`, `jest.config.js`, `tsconfig.json`.

## Полезные npm‑скрипты
Из файла `package.json`:
```json
"start": "expo start --tunnel",
"start-web": "expo start --web --tunnel",
"start-web-dev": "DEBUG=expo* expo start --web --tunnel",
"android": "expo run:android",
"ios": "expo run:ios",
"test": "jest",
"tsc": "tsc --noEmit"
```

## Запуск тестов
Перед запуском тестов убедитесь, что выполнена команда `npm install` для установки всех зависимостей. Затем запустите:
```bash
npm test
```

При возникновении ошибки вида `Could not locate module react-native` убедитесь,
что зависимости установлены командой `npm install`, а файл `jest.config.js`
содержит настройку `preset: 'jest-expo'` и маппинг `moduleNameMapper` для
`react-native`.
